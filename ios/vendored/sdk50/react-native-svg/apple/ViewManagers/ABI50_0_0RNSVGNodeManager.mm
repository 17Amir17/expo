/**
 * Copyright (c) 2015-present, Horcrux.
 * All rights reserved.
 *
 * This source code is licensed under the MIT-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

#import "ABI50_0_0RNSVGNodeManager.h"
#import "ABI50_0_0RNSVGNode.h"

#import <ABI50_0_0React/ABI50_0_0RCTConvert+Transform.h>

@implementation ABI50_0_0RNSVGNodeManager

ABI50_0_0RCT_EXPORT_MODULE()

- (ABI50_0_0RNSVGNode *)node
{
  return [ABI50_0_0RNSVGNode new];
}

- (ABI50_0_0RNSVGView *)view
{
  return [self node];
}

ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(name, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(opacity, CGFloat)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(matrix, CGAffineTransform)
ABI50_0_0RCT_CUSTOM_VIEW_PROPERTY(transform, CATransform3D, ABI50_0_0RNSVGNode)
{
  CATransform3D transform3d = json ? [ABI50_0_0RCTConvert CATransform3D:json] : defaultView.layer.transform;
  CGAffineTransform transform = CATransform3DGetAffineTransform(transform3d);
  view.invTransform = CGAffineTransformInvert(transform);
  view.transforms = transform;
  [view invalidate];
}
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(mask, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(markerStart, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(markerMid, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(markerEnd, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(clipPath, NSString)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(clipRule, ABI50_0_0RNSVGCGFCRule)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(responsible, BOOL)
ABI50_0_0RCT_EXPORT_VIEW_PROPERTY(onLayout, ABI50_0_0RCTDirectEventBlock)

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(top, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(right, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(start, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(end, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(bottom, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(left, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(width, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(height, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(minWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(maxWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(minHeight, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(maxHeight, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderTopWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderRightWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderBottomWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderLeftWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderStartWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderEndWidth, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(borderWidth, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginTop, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginRight, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginBottom, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginLeft, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginStart, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginEnd, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginVertical, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(marginHorizontal, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(margin, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingTop, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingRight, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingBottom, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingLeft, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingStart, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingEnd, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingVertical, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(paddingHorizontal, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(padding, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flex, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flexGrow, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flexShrink, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flexBasis, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flexDirection, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(flexWrap, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(justifyContent, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(alignItems, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(alignSelf, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(alignContent, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(position, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(aspectRatio, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(overflow, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(display, id, ABI50_0_0RNSVGNode) {}
ABI50_0_0RCT_CUSTOM_VIEW_PROPERTY(display, id, ABI50_0_0RNSVGNode)
{
  view.display = json;
}

ABI50_0_0RCT_CUSTOM_SHADOW_PROPERTY(direction, id, ABI50_0_0RNSVGNode) {}

ABI50_0_0RCT_CUSTOM_VIEW_PROPERTY(pointerEvents, ABI50_0_0RCTPointerEvents, ABI50_0_0RNSVGNode)
{
  view.pointerEvents = json ? [ABI50_0_0RCTConvert ABI50_0_0RCTPointerEvents:json] : defaultView.pointerEvents;
}

@end
