{"version":3,"file":"runtime.native.js","sourceRoot":"","sources":["../../src/winter/runtime.native.ts"],"names":[],"mappings":"AAAA,wFAAwF;AACxF,wBAAwB;AACxB,OAAO,EAAE,cAAc,IAAI,aAAa,EAAE,MAAM,oDAAoD,CAAC;AAErG,iFAAiF;AACjF,uFAAuF;AACvF,yBAAyB;AACzB,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AAElD,SAAS,gBAAgB,CAAC,GAAW;IACnC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,cAAc,EAAE;QACzC,KAAK,EAAE,IAAI;QACX,UAAU,EAAE,KAAK;QACjB,YAAY,EAAE,KAAK;KACpB,CAAC,CAAC;IACH,OAAO,GAAG,CAAC;AACb,CAAC;AAED,SAAS,OAAO,CAAC,IAAY,EAAE,QAAmB;IAChD,aAAa,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;AAC1D,CAAC;AAED,gDAAgD;AAChD,MAAM,WAAW,GAAG,UAAU,CAAC,IAAK,CAAC,WAAW,CAAC;AACjD,MAAM,cAAc,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC;AACpD,sEAAsE;AACtE,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG;IAC7B,OAAO,IAAI,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;AAC/D,CAAC,CAAC;AAEF,gBAAgB,CAAC,WAAW,CAAC,CAAC;AAC9B,aAAa,CAAC,aAAa,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;AAEhD,gDAAgD;AAChD,MAAM,WAAW,GAAG,UAAU,CAAC,IAAK,CAAC,WAAW,CAAC;AAEjD,gBAAgB,CAAC,WAAW,CAAC,CAAC;AAC9B,aAAa,CAAC,aAAa,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;AAEhD,sCAAsC;AACtC,8CAA8C;AAC9C,kDAAkD;AAClD,sEAAsE","sourcesContent":["// This file configures the runtime environment to increase compatibility with WinterCG.\n// https://wintercg.org/\nimport { polyfillGlobal as installGlobal } from 'react-native/Libraries/Utilities/PolyfillFunctions';\n\n// Add a well-known shared symbol that doesn't show up in iteration or inspection\n// this can be used to detect if the global object abides by the Expo team's documented\n// built-in requirements.\nconst BUILTIN_SYMBOL = Symbol.for('expo.builtin');\n\nfunction addBuiltinSymbol(obj: object) {\n  Object.defineProperty(obj, BUILTIN_SYMBOL, {\n    value: true,\n    enumerable: false,\n    configurable: false,\n  });\n  return obj;\n}\n\nfunction install(name: string, getValue: () => any) {\n  installGlobal(name, () => addBuiltinSymbol(getValue()));\n}\n\n// https://encoding.spec.whatwg.org/#textencoder\nconst TextEncoder = globalThis.expo!.TextEncoder;\nconst originalEncode = TextEncoder.prototype.encode;\n// TODO: Remove this once we can create `Uint8Array` from native code.\nTextEncoder.prototype.encode = function () {\n  return new Uint8Array(originalEncode.apply(this, arguments));\n};\n\naddBuiltinSymbol(TextEncoder);\ninstallGlobal('TextEncoder', () => TextEncoder);\n\n// https://encoding.spec.whatwg.org/#textdecoder\nconst TextDecoder = globalThis.expo!.TextDecoder;\n\naddBuiltinSymbol(TextDecoder);\ninstallGlobal('TextDecoder', () => TextDecoder);\n\n// // https://url.spec.whatwg.org/#url\n// install('URL', () => require('./url').URL);\n// // https://url.spec.whatwg.org/#urlsearchparams\n// install('URLSearchParams', () => require('./url').URLSearchParams);\n"]}