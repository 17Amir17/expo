{"version":3,"file":"buildUrlForBundle.native.js","sourceRoot":"","sources":["../../src/async-require/buildUrlForBundle.native.ts"],"names":[],"mappings":";AAAA;;;;;GAKG;;;AAEH,SAAgB,iBAAiB,CAAC,UAAkB;IAClD,MAAM,YAAY,GAAG,OAAO,CAAC,iBAAiB,CAAC;SAC5C,OAAmD,CAAC;IACvD,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,sBAAsB,EAAE,GAAG,YAAY,EAAE,CAAC;IAElE,0IAA0I;IAC1I,IAAI,sBAAsB,EAAE;QAC1B,OAAO,cAAc,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;KAC9C;IAED,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;QACnC,OAAO,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;KACpD;IAED,MAAM,IAAI,KAAK,CACb,6IAA6I,CAC9I,CAAC;AACJ,CAAC;AAjBD,8CAiBC;AAED,SAAS,cAAc,CAAC,MAAc,EAAE,MAAc;IACpD,OAAO,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AACvE,CAAC","sourcesContent":["/**\n * Copyright Â© 2022 650 Industries.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport function buildUrlForBundle(bundlePath: string): string {\n  const getDevServer = require('../getDevServer')\n    .default as typeof import('../getDevServer').default;\n  const { url: serverUrl, bundleLoadedFromServer } = getDevServer();\n\n  // Ensure the bundle wasn't loaded from a dev server, e.g. `npx expo start --no-dev` could trigger this while bundling in production-mode.\n  if (bundleLoadedFromServer) {\n    return joinComponents(serverUrl, bundlePath);\n  }\n\n  if (typeof location !== 'undefined') {\n    return joinComponents(location.origin, bundlePath);\n  }\n\n  throw new Error(\n    'Unable to determine the production URL where additional JavaScript chunks are hosted because the global \"location\" variable is not defined.'\n  );\n}\n\nfunction joinComponents(prefix: string, suffix: string): string {\n  return prefix.replace(/\\/+$/, '') + '/' + suffix.replace(/^\\/+/, '');\n}\n"]}